"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[5788],{94149:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"guides/enhanced-code-editing","title":"Enhanced Code Editing with AI Models","description":"Use AI models to intelligently apply code changes","source":"@site/docs/guides/enhanced-code-editing.md","sourceDirName":"guides","slug":"/guides/enhanced-code-editing","permalink":"/goose/docs/guides/enhanced-code-editing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Enhanced Code Editing with AI Models","sidebar_label":"Enhanced Code Editing","description":"Use AI models to intelligently apply code changes"},"sidebar":"tutorialSidebar","previous":{"title":"Smart Context Management","permalink":"/goose/docs/guides/smart-context-management"},"next":{"title":"Tutorials","permalink":"/goose/docs/category/tutorials"}}');var o=s(74848),i=s(28453);const r={title:"Enhanced Code Editing with AI Models",sidebar_label:"Enhanced Code Editing",description:"Use AI models to intelligently apply code changes"},l=void 0,c={},d=[{value:"Configuration",id:"configuration",level:2},{value:"Supported Providers",id:"supported-providers",level:3},{value:"How It Works",id:"how-it-works",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"/docs/mcp/developer-mcp",children:"Developer extension"})," supports using AI models for enhanced code editing through the ",(0,o.jsx)(n.code,{children:"str_replace"})," command. When configured, it intelligently applies code changes using an AI model instead of simple string replacement."]}),"\n",(0,o.jsx)(n.p,{children:"The use of models specializing in code editing can reduce the load on the main LLM providers while increasing accuracy, quality, and speed and lowering cost. This enhanced approach provides:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Context-aware editing"}),": The AI understands code structure and can make more intelligent changes"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Better formatting"}),": Maintains consistent code style and formatting"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Error prevention"}),": Can catch and fix potential issues during the edit"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Flexible model support"}),": Works with any OpenAI-compatible API"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Clean implementation"}),": Uses proper control flow instead of exception handling for configuration checks"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsxs)(n.p,{children:["Set these ",(0,o.jsx)(n.a,{href:"/docs/guides/environment-variables#enhanced-code-editing",children:"environment variables"})," to enable AI-powered code editing:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'export GOOSE_EDITOR_API_KEY="your-api-key-here"\nexport GOOSE_EDITOR_HOST="https://api.openai.com/v1"\nexport GOOSE_EDITOR_MODEL="gpt-4o"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"All three environment variables must be set and non-empty for the feature to activate."})}),"\n",(0,o.jsx)(n.p,{children:"This optional feature is completely backwards compatible - if not configured, the extension works exactly as before with simple string replacement."}),"\n",(0,o.jsx)(n.h3,{id:"supported-providers",children:"Supported Providers"}),"\n",(0,o.jsx)(n.p,{children:"Any OpenAI-compatible API endpoint should work. Examples:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"OpenAI:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'export GOOSE_EDITOR_API_KEY="sk-..."\nexport GOOSE_EDITOR_HOST="https://api.openai.com/v1"\nexport GOOSE_EDITOR_MODEL="gpt-4o"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Anthropic (via OpenAI-compatible proxy):"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'export GOOSE_EDITOR_API_KEY="sk-ant-..."\nexport GOOSE_EDITOR_HOST="https://api.anthropic.com/v1"\nexport GOOSE_EDITOR_MODEL="claude-3-5-sonnet-20241022"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Morph:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'export GOOSE_EDITOR_API_KEY="sk-..."\nexport GOOSE_EDITOR_HOST="https://api.morphllm.com/v1"\nexport GOOSE_EDITOR_MODEL="morph-v0"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Relace:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'export GOOSE_EDITOR_API_KEY="rlc-..."\nexport GOOSE_EDITOR_HOST="https://instantapply.endpoint.relace.run/v1/apply"\nexport GOOSE_EDITOR_MODEL="auto"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Local/Custom endpoints:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'export GOOSE_EDITOR_API_KEY="your-key"\nexport GOOSE_EDITOR_HOST="http://localhost:8000/v1"\nexport GOOSE_EDITOR_MODEL="your-model"\n'})}),"\n",(0,o.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,o.jsxs)(n.p,{children:["When the ",(0,o.jsx)(n.code,{children:"str_replace"})," tool is used to edit code:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Configuration Check"}),": Goose checks if all three environment variables are properly set and non-empty."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"With AI Enabled"}),": If configured, Goose sends the original code and your requested change to the configured AI model for processing."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Fallback"}),": If the AI API is not configured or the API call fails, it falls back to simple string replacement."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"User Feedback"}),": The first time you use ",(0,o.jsx)(n.code,{children:"str_replace"})," without AI configuration, you'll see a helpful message explaining how to enable the feature."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(96540);const o={},i=t.createContext(o);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);