"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[6072],{93821:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"guides/cli-providers","title":"CLI Providers","description":"Goose supports two special \\"pass-through\\" providers that leverage existing CLI tools from Anthropic and Google. These providers allow you to use your existing subscriptions to Claude Code and Google Gemini CLI tools directly through Goose, providing a cost-effective way to access these excellent AI models and tools while maintaining the benefits of Goose\'s ecosystem, and working with multiple models and extensions.","source":"@site/docs/guides/cli-providers.md","sourceDirName":"guides","slug":"/guides/cli-providers","permalink":"/goose/docs/guides/cli-providers","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"sidebar_position":25,"title":"CLI Providers","sidebar_label":"CLI Providers"},"sidebar":"tutorialSidebar","previous":{"title":"Smart Context Management","permalink":"/goose/docs/guides/smart-context-management"},"next":{"title":"Enhanced Code Editing","permalink":"/goose/docs/guides/enhanced-code-editing"}}');var o=n(74848),r=n(28453);const l={sidebar_position:25,title:"CLI Providers",sidebar_label:"CLI Providers"},t="CLI Providers",d={},a=[{value:"Overview",id:"overview",level:2},{value:"Available CLI Providers",id:"available-cli-providers",level:2},{value:"Claude Code (<code>claude-code</code>)",id:"claude-code-claude-code",level:3},{value:"Gemini CLI (<code>gemini-cli</code>)",id:"gemini-cli-gemini-cli",level:3},{value:"Setup Instructions",id:"setup-instructions",level:2},{value:"Setting up Claude Code Provider",id:"setting-up-claude-code-provider",level:3},{value:"Setting up Gemini CLI Provider",id:"setting-up-gemini-cli-provider",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Combining with Other Models",id:"combining-with-other-models",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Claude Code Configuration",id:"claude-code-configuration",level:3},{value:"Gemini CLI Configuration",id:"gemini-cli-configuration",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"System Prompt Filtering",id:"system-prompt-filtering",level:3},{value:"Message Translation",id:"message-translation",level:3},{value:"Response Processing",id:"response-processing",level:3},{value:"Limitations and Considerations",id:"limitations-and-considerations",level:2},{value:"Tool Calling",id:"tool-calling",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Benefits",id:"benefits",level:2},{value:"Cost Effectiveness",id:"cost-effectiveness",level:3},{value:"Flexibility",id:"flexibility",level:3},{value:"Best Practices",id:"best-practices",level:2}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"cli-providers",children:"CLI Providers"})}),"\n",(0,o.jsx)(i.p,{children:'Goose supports two special "pass-through" providers that leverage existing CLI tools from Anthropic and Google. These providers allow you to use your existing subscriptions to Claude Code and Google Gemini CLI tools directly through Goose, providing a cost-effective way to access these excellent AI models and tools while maintaining the benefits of Goose\'s ecosystem, and working with multiple models and extensions.'}),"\n",(0,o.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(i.p,{children:"CLI providers are different from traditional LLM providers in several key ways:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Pass-through architecture"}),": Instead of making direct API calls, these providers drive the CLI commands"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Subscription-based"}),": Use your existing Claude Code or Google Gemini CLI subscriptions instead of paying per token (usually a flat monthly fee)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Tool integration"}),": These providers work with their respective CLI tools' built-in capabilities while Goose manages sessions and extensions"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Cost-effective"}),": Leverage unlimited or subscription-based pricing models instead of token-based billing"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"available-cli-providers",children:"Available CLI Providers"}),"\n",(0,o.jsxs)(i.h3,{id:"claude-code-claude-code",children:["Claude Code (",(0,o.jsx)(i.code,{children:"claude-code"}),")"]}),"\n",(0,o.jsxs)(i.p,{children:["The Claude Code provider integrates with Anthropic's ",(0,o.jsx)(i.a,{href:"https://claude.ai/cli",children:"Claude CLI tool"}),", allowing you to use Claude models through your existing Claude Code subscription."]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Features:"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Uses Claude's latest models"}),"\n",(0,o.jsx)(i.li,{children:"200,000 token context limit"}),"\n",(0,o.jsx)(i.li,{children:"Automatic filtering of Goose extensions from system prompts (since Claude Code has its own tool ecosystem)"}),"\n",(0,o.jsx)(i.li,{children:"JSON output parsing for structured responses"}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Requirements:"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Claude CLI tool installed and configured"}),"\n",(0,o.jsx)(i.li,{children:"Active Claude Code subscription"}),"\n",(0,o.jsx)(i.li,{children:"CLI tool authenticated with your Anthropic account"}),"\n"]}),"\n",(0,o.jsxs)(i.h3,{id:"gemini-cli-gemini-cli",children:["Gemini CLI (",(0,o.jsx)(i.code,{children:"gemini-cli"}),")"]}),"\n",(0,o.jsxs)(i.p,{children:["The Gemini CLI provider integrates with Google's ",(0,o.jsx)(i.a,{href:"https://ai.google.dev/gemini-api/docs",children:"Gemini CLI tool"}),", providing access to Gemini models through your Google AI subscription."]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Features:"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"1,000,000 token context limit"}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Requirements:"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Gemini CLI tool installed and configured"}),"\n",(0,o.jsx)(i.li,{children:"CLI tool authenticated with your Google account"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"setup-instructions",children:"Setup Instructions"}),"\n",(0,o.jsx)(i.h3,{id:"setting-up-claude-code-provider",children:"Setting up Claude Code Provider"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Install Claude CLI Tool"})}),"\n",(0,o.jsxs)(i.p,{children:["Follow the installation instructions ",(0,o.jsx)(i.a,{href:"https://docs.anthropic.com/en/docs/claude-code/overview",children:"here"})," to install and configure the Claude CLI tool."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Authenticate with Claude"})}),"\n",(0,o.jsx)(i.p,{children:"Ensure your Claude CLI is authenticated and working"}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Configure Goose"})}),"\n",(0,o.jsx)(i.p,{children:"Set the provider environment variable:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"export GOOSE_PROVIDER=claude-code\n"})}),"\n",(0,o.jsx)(i.p,{children:"Or configure through the Goose CLI:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:'goose configure\n# Select "Configure Providers"\n# Choose "Claude Code" from the list\n'})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"setting-up-gemini-cli-provider",children:"Setting up Gemini CLI Provider"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Install Gemini CLI Tool"})}),"\n",(0,o.jsxs)(i.p,{children:["Follow the installation instructions for [gemini cli]",(0,o.jsx)(i.a,{href:"https://blog.google/technology/developers/introducing-gemini-cli-open-source-ai-agent/",children:"https://blog.google/technology/developers/introducing-gemini-cli-open-source-ai-agent/"}),") to install and configure the Gemini CLI tool."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Authenticate with Google"})}),"\n",(0,o.jsx)(i.p,{children:"Ensure your Gemini CLI is authenticated and working."}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Configure Goose"})}),"\n",(0,o.jsx)(i.p,{children:"Set the provider environment variable:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"export GOOSE_PROVIDER=gemini-cli\n"})}),"\n",(0,o.jsx)(i.p,{children:"Or configure through the Goose CLI:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:'goose configure\n# Select "Configure Providers"\n# Choose "Gemini CLI" from the list\n'})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,o.jsx)(i.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,o.jsx)(i.p,{children:"Once configured, use these providers just like any other Goose provider:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# Using Claude Code\nGOOSE_PROVIDER=claude-code goose session start\n\n# Using Gemini CLI\nGOOSE_PROVIDER=gemini-cli goose session start\n"})}),"\n",(0,o.jsx)(i.h3,{id:"combining-with-other-models",children:"Combining with Other Models"}),"\n",(0,o.jsx)(i.p,{children:"CLI providers work well in combination with other models using Goose's lead/worker pattern:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# Use Claude Code as lead model, GPT-4o as worker\nexport GOOSE_LEAD_PROVIDER=claude-code\nexport GOOSE_PROVIDER=openai\nexport GOOSE_MODEL=gpt-4o\nexport GOOSE_LEAD_MODEL=default\n\ngoose session start\n"})}),"\n",(0,o.jsx)(i.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,o.jsx)(i.h3,{id:"claude-code-configuration",children:"Claude Code Configuration"}),"\n",(0,o.jsxs)(i.table,{children:[(0,o.jsx)(i.thead,{children:(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.th,{children:"Environment Variable"}),(0,o.jsx)(i.th,{children:"Description"}),(0,o.jsx)(i.th,{children:"Default"})]})}),(0,o.jsxs)(i.tbody,{children:[(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"GOOSE_PROVIDER"})}),(0,o.jsxs)(i.td,{children:["Set to ",(0,o.jsx)(i.code,{children:"claude-code"})," to use this provider"]}),(0,o.jsx)(i.td,{children:"None"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"CLAUDE_CODE_COMMAND"})}),(0,o.jsx)(i.td,{children:"Path to the Claude CLI command"}),(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"claude"})})]})]})]}),"\n",(0,o.jsx)(i.h3,{id:"gemini-cli-configuration",children:"Gemini CLI Configuration"}),"\n",(0,o.jsxs)(i.table,{children:[(0,o.jsx)(i.thead,{children:(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.th,{children:"Environment Variable"}),(0,o.jsx)(i.th,{children:"Description"}),(0,o.jsx)(i.th,{children:"Default"})]})}),(0,o.jsx)(i.tbody,{children:(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"GOOSE_PROVIDER"})}),(0,o.jsxs)(i.td,{children:["Set to ",(0,o.jsx)(i.code,{children:"gemini-cli"})," to use this provider"]}),(0,o.jsx)(i.td,{children:"None"})]})})]}),"\n",(0,o.jsx)(i.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,o.jsx)(i.h3,{id:"system-prompt-filtering",children:"System Prompt Filtering"}),"\n",(0,o.jsx)(i.p,{children:"Both CLI providers automatically filter out Goose's extension information from system prompts since these CLI tools have their own tool ecosystems. This prevents conflicts and ensures clean interaction with the underlying CLI tools."}),"\n",(0,o.jsx)(i.h3,{id:"message-translation",children:"Message Translation"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Claude Code"}),": Converts Goose messages to Claude's JSON message format, handling tool calls and responses appropriately"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Gemini CLI"}),": Converts messages to simple text prompts with role prefixes (Human:/Assistant:)"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"response-processing",children:"Response Processing"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Claude Code"}),": Parses JSON responses to extract text content and usage information"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Gemini CLI"}),": Processes plain text responses from the CLI tool"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"limitations-and-considerations",children:"Limitations and Considerations"}),"\n",(0,o.jsx)(i.h3,{id:"tool-calling",children:"Tool Calling"}),"\n",(0,o.jsx)(i.p,{children:"These providers handle tool calling differently than standard API providers as they have their own tool integrations out of the box."}),"\n",(0,o.jsx)(i.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,o.jsx)(i.p,{children:"CLI providers depend on external tools, so ensure:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"CLI tools are properly installed and in your PATH"}),"\n",(0,o.jsx)(i.li,{children:"Authentication is maintained and valid"}),"\n",(0,o.jsx)(i.li,{children:"Subscription limits are not exceeded"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"benefits",children:"Benefits"}),"\n",(0,o.jsx)(i.h3,{id:"cost-effectiveness",children:"Cost Effectiveness"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Subscription-based pricing"}),": Use unlimited or fixed-price subscriptions instead of per-token billing"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Existing subscriptions"}),": Leverage subscriptions you may already have"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"flexibility",children:"Flexibility"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Hybrid usage"}),": Combine CLI providers with API-based providers using lead/worker patterns"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Session management"}),": Full Goose session management and extension system"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Easy switching"}),": Switch between CLI and API providers as needed"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Authentication Management"}),": Keep CLI tools authenticated and monitor subscription status"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Hybrid Approaches"}),": Consider using CLI providers for heavy workloads and API providers for quick tasks"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Backup Providers"}),": Configure fallback API providers in case CLI tools are unavailable"]}),"\n"]}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.p,{children:"CLI providers offer a powerful way to integrate Goose with existing AI tool subscriptions while maintaining the benefits of Goose's session management and extension ecosystem. They're particularly valuable for users with existing subscriptions who want to maximize their investment while gaining access to Goose's capabilities."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>t});var s=n(96540);const o={},r=s.createContext(o);function l(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);