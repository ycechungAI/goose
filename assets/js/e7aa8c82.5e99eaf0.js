"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[1700],{56421:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"tutorials/isolated-development-environments","title":"Isolated Development Environments","description":"This guide shows you how to set up isolated development environments using the Container Use MCP with Goose. With this setup, your development work will be isolated to both git branches and containers, allowing you to experiment freely without affecting your main system state.","source":"@site/docs/tutorials/isolated-development-environments.md","sourceDirName":"tutorials","slug":"/tutorials/isolated-development-environments","permalink":"/goose/docs/tutorials/isolated-development-environments","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Isolated Development Environments"},"sidebar":"tutorialSidebar","previous":{"title":"Goose in Docker","permalink":"/goose/docs/tutorials/goose-in-docker"},"next":{"title":"Observability with Langfuse","permalink":"/goose/docs/tutorials/langfuse"}}');var s=i(74848),r=i(28453),o=i(65537),l=i(79329);const a={title:"Isolated Development Environments"},d=void 0,c={},u=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Install Container Use",id:"install-container-use",level:3},{value:"Adding to Goose",id:"adding-to-goose",level:2},{value:"Method 1: Quick Setup Link",id:"method-1-quick-setup-link",level:3},{value:"Method 2: Manual Configuration",id:"method-2-manual-configuration",level:3},{value:"Usage",id:"usage",level:2},{value:"Starting Isolated Development",id:"starting-isolated-development",level:3},{value:"Working with Experiments",id:"working-with-experiments",level:3},{value:"Learning New Technologies",id:"learning-new-technologies",level:3},{value:"Benefits",id:"benefits",level:2},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Feature Development",id:"feature-development",level:3},{value:"Dependency Exploration",id:"dependency-exploration",level:3},{value:"Refactoring",id:"refactoring",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Getting Help",id:"getting-help",level:3},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["This guide shows you how to set up isolated development environments using the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/dagger/container-use",children:"Container Use MCP"})})," with Goose. With this setup, your development work will be isolated to both git branches and containers, allowing you to experiment freely without affecting your main system state.\nNote that the container-use MCP is very new and emerging, but offers powerful ways to do isolated development which are very agent friendly (build on tools like Docker, copy on write filesystems and more)"]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/dagger/container-use",children:"Container Use MCP"})})," server provides containerized development environments that integrate seamlessly with Goose. This allows you to:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Work on changes isolated to git branches"}),"\n",(0,s.jsx)(n.li,{children:"Run code in containers without affecting your local machine"}),"\n",(0,s.jsx)(n.li,{children:"Easily reset and start fresh when needed"}),"\n",(0,s.jsx)(n.li,{children:"Maintain clean separation between different projects and experiments"}),"\n",(0,s.jsx)(n.li,{children:"Work on things in parallel"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Docker installed and running on your system"}),"\n",(0,s.jsx)(n.li,{children:"Git installed and configured"}),"\n",(0,s.jsx)(n.li,{children:"Goose installed and configured"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.h3,{id:"install-container-use",children:"Install Container Use"}),"\n",(0,s.jsxs)(n.p,{children:["Head on over to the ",(0,s.jsx)(n.a,{href:"https://github.com/dagger/container-use/blob/main/README.md",children:"Container Use README"})," for up-to-date install instructions for this fast moving project."]}),"\n",(0,s.jsx)(n.h2,{id:"adding-to-goose",children:"Adding to Goose"}),"\n",(0,s.jsx)(n.h3,{id:"method-1-quick-setup-link",children:"Method 1: Quick Setup Link"}),"\n",(0,s.jsx)(n.p,{children:"Click this link to automatically add the extension to Goose:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"goose://extension?cmd=cu&arg=stdio&id=container-use&name=container%20use&description=use%20containers%20with%20dagger%20and%20git%20for%20isolated%20environments",children:"Add Container-Use to Goose"})})}),"\n",(0,s.jsx)(n.h3,{id:"method-2-manual-configuration",children:"Method 2: Manual Configuration"}),"\n",(0,s.jsxs)(o.A,{groupId:"interface",children:[(0,s.jsx)(l.A,{value:"ui",label:"Goose Desktop",default:!0,children:(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.code,{children:"..."})," in the top right corner of the Goose Desktop."]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.code,{children:"Advanced Settings"})," from the menu."]}),"\n",(0,s.jsxs)(n.li,{children:["Under ",(0,s.jsx)(n.code,{children:"Extensions"}),", click ",(0,s.jsx)(n.code,{children:"Add custom extension"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Fill in the details:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": ",(0,s.jsx)(n.code,{children:"Standard IO"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ID"}),": ",(0,s.jsx)(n.code,{children:"container-use"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Name"}),": ",(0,s.jsx)(n.code,{children:"Container Use"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": ",(0,s.jsx)(n.code,{children:"Use containers with dagger and git for isolated environments"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Command"}),": ",(0,s.jsx)(n.code,{children:"cu"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Arguments"}),": ",(0,s.jsx)(n.code,{children:"stdio"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.code,{children:"Add"})," button"]}),"\n"]})}),(0,s.jsxs)(l.A,{value:"cli",label:"Goose CLI",children:[(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Run the configuration command:"}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"goose configure\n"})}),(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)(n.code,{children:"Add Extension"})," from the menu."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Choose ",(0,s.jsx)(n.code,{children:"Command-line Extension"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Follow the prompts:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Extension name"}),": ",(0,s.jsx)(n.code,{children:"Container Use"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Command"}),": ",(0,s.jsx)(n.code,{children:"cu stdio"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Timeout"}),": ",(0,s.jsx)(n.code,{children:"300"})," (or your preferred timeout)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Environment variables"}),": None needed"]}),"\n"]}),"\n"]}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"config",label:"Config File",children:[(0,s.jsxs)(n.p,{children:["Add the following configuration to your ",(0,s.jsx)(n.code,{children:"~/.config/goose/config.yaml"})," file:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"extensions:\n  container-use:\n    name: container-use\n    type: stdio\n    enabled: true\n    cmd: cu\n    args:\n    - stdio\n    envs: {}\n    timeout: 300\n"})})]})]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.p,{children:"Once the extension is enabled in Goose, you can:"}),"\n",(0,s.jsx)(n.h3,{id:"starting-isolated-development",children:"Starting Isolated Development"}),"\n",(0,s.jsx)(n.p,{children:"Simply mention in your conversation with Goose that you want to work in an isolated environment:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'"I want to experiment with adding a new feature, but I want to do it in an isolated environment so I don\'t affect my main codebase."\n'})}),"\n",(0,s.jsx)(n.p,{children:"Goose will automatically:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a new git branch for your work"}),"\n",(0,s.jsx)(n.li,{children:"Set up a containerized environment"}),"\n",(0,s.jsx)(n.li,{children:"Ensure all changes are isolated from your host system"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"working-with-experiments",children:"Working with Experiments"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'"Let me try a completely different approach to this algorithm. Can you set up an isolated environment where I can experiment?"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"learning-new-technologies",children:"Learning New Technologies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'"I want to try out this new framework, but I don\'t want to install all its dependencies on my main system."\n'})}),"\n",(0,s.jsx)(n.h2,{id:"benefits",children:"Benefits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Safety"}),": Experiment without fear of breaking your main development environment"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reproducibility"}),": Consistent environments across different machines and team members"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Isolation"}),": Multiple projects can run simultaneously without conflicts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Easy cleanup"}),": Remove containers and branches when done"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version control"}),": All changes are tracked in isolated git branches"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollback capability"}),": Easily discard failed experiments"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-workflows",children:"Common Workflows"}),"\n",(0,s.jsx)(n.h3,{id:"feature-development",children:"Feature Development"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Start a conversation with Goose about a new feature"}),"\n",(0,s.jsx)(n.li,{children:"Request isolated development environment"}),"\n",(0,s.jsx)(n.li,{children:"Goose creates branch and container"}),"\n",(0,s.jsx)(n.li,{children:"Develop and test the feature"}),"\n",(0,s.jsx)(n.li,{children:"If successful, merge the branch; if not, discard it"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"dependency-exploration",children:"Dependency Exploration"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Ask Goose to explore a new library or tool"}),"\n",(0,s.jsx)(n.li,{children:"Work in isolated container with the dependency"}),"\n",(0,s.jsx)(n.li,{children:"Test compatibility and functionality"}),"\n",(0,s.jsx)(n.li,{children:"Decide whether to integrate into main project"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"refactoring",children:"Refactoring"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Request isolated environment for major refactoring"}),"\n",(0,s.jsx)(n.li,{children:"Make changes in safety of container and branch"}),"\n",(0,s.jsx)(n.li,{children:"Test thoroughly before merging"}),"\n",(0,s.jsx)(n.li,{children:"Easy rollback if issues arise"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Docker not running:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ensure Docker Desktop is installed and running"}),"\n",(0,s.jsxs)(n.li,{children:["Check Docker daemon status: ",(0,s.jsx)(n.code,{children:"docker info"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Permission issues:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ensure your user has permission to run Docker commands"}),"\n",(0,s.jsxs)(n.li,{children:["On Linux, add user to docker group: ",(0,s.jsx)(n.code,{children:"sudo usermod -aG docker $USER"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Git issues:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ensure Git is properly configured with user name and email"}),"\n",(0,s.jsx)(n.li,{children:"Check that you're in a Git repository when starting isolated work"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"getting-help",children:"Getting Help"}),"\n",(0,s.jsx)(n.p,{children:"If you encounter issues:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Check the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/dagger/container-use",children:"Container Use GitHub repository"})})," for documentation"]}),"\n",(0,s.jsx)(n.li,{children:"Verify all prerequisites are installed and working"}),"\n",(0,s.jsxs)(n.li,{children:["Join our ",(0,s.jsx)(n.a,{href:"https://discord.gg/block-opensource",children:"Discord community"})," for support"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.p,{children:"With container-use enabled in Goose, you're ready to develop with confidence. Try starting a conversation about a project you've been hesitant to experiment with, and let Goose set up a safe, isolated environment for your exploration."}),"\n",(0,s.jsx)(n.p,{children:"Remember: with isolated environments, there's no such thing as a failed experiment - only learning opportunities that don't affect your main codebase."})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},79329:(e,n,i)=>{i.d(n,{A:()=>o});i(96540);var t=i(34164);const s={tabItem:"tabItem_Ymn6"};var r=i(74848);function o(e){let{children:n,hidden:i,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,o),hidden:i,children:n})}},65537:(e,n,i)=>{i.d(n,{A:()=>w});var t=i(96540),s=i(34164),r=i(65627),o=i(56347),l=i(50372),a=i(30604),d=i(11861),c=i(78749);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:i}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:i,attributes:t,default:s}}=e;return{value:n,label:i,attributes:t,default:s}}))}(i);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,i])}function m(e){let{value:n,tabValues:i}=e;return i.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:i}=e;const s=(0,o.W6)(),r=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:n,groupId:i});return[(0,a.aZ)(r),(0,t.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})}),[r,s])]}function p(e){const{defaultValue:n,queryString:i=!1,groupId:s}=e,r=h(e),[o,a]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${i.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=i.find((e=>e.default))??i[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r}))),[d,u]=x({queryString:i,groupId:s}),[p,g]=function(e){let{groupId:n}=e;const i=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,r]=(0,c.Dv)(i);return[s,(0,t.useCallback)((e=>{i&&r.set(e)}),[i,r])]}({groupId:s}),j=(()=>{const e=d??p;return m({value:e,tabValues:r})?e:null})();(0,l.A)((()=>{j&&a(j)}),[j]);return{selectedValue:o,selectValue:(0,t.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);a(e),u(e),g(e)}),[u,g,r]),tabValues:r}}var g=i(9136);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=i(74848);function v(e){let{className:n,block:i,selectedValue:t,selectValue:o,tabValues:l}=e;const a=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.a_)(),c=e=>{const n=e.currentTarget,i=a.indexOf(n),s=l[i].value;s!==t&&(d(n),o(s))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const i=a.indexOf(e.currentTarget)+1;n=a[i]??a[0];break}case"ArrowLeft":{const i=a.indexOf(e.currentTarget)-1;n=a[i]??a[a.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":i},n),children:l.map((e=>{let{value:n,label:i,attributes:r}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>{a.push(e)},onKeyDown:u,onClick:c,...r,className:(0,s.A)("tabs__item",j.tabItem,r?.className,{"tabs__item--active":t===n}),children:i??n},n)}))})}function b(e){let{lazy:n,children:i,selectedValue:r}=e;const o=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===r));return e?(0,t.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function y(e){const n=p(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",j.tabList),children:[(0,f.jsx)(v,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,f.jsx)(y,{...e,children:u(e.children)},String(n))}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(96540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);